{"version":3,"sources":["constants.js","repositories/messages.js","services/color-service.js","services/data-service.js","components/plots/TimeLine.jsx","components/plots/WordCloud.jsx","components/plots/SunBurst.jsx","components/maps/MapToolTip.jsx","components/maps/CustomMap.jsx","components/plots/Ridgeline.jsx","components/MessageTable.jsx","components/Details.jsx","components/MessageMeter.jsx","components/Navigator.jsx","components/Dashboard.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["ML_API_URL","MessageRepository","start","end","a","axios","get","neutral","colorSets","base","range","ColorService","index","this","id","parseInt","length","map","i","DataService","messages","all","byCluster","byLocation","overall","location","clusters","keywords","timeline","groupBy","filters","d","time","result","main","undefined","cluster","name","filter","m","data","timeRange","reduce","c","words","obj","e","Object","keys","k","text","value","key","temp","sort","cluster_keywords","forEach","w","count","ids","labels","parents","values","push","word","marker","line","width","color","colors","getClusterColors","slice","grouped","sortedBy","replace","includes","b","searchQuery","message","toLowerCase","instance","rate","Math","log10","meterTips","percent","round","tip","colorClass","meterColorClass","array","objectsByKeyValue","concat","TimeLine","update","useState","setRange","plotData","x","autobins","histnorm","opacity","type","getSelectedClusterName","getClusterBaseColorById","full","getClusterColorById","size","setSize","useLayoutEffect","updateSize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","layout","bargap","bargroupgap","barmode","title","paper_bgcolor","plot_bgcolor","yaxis","gridcolor","gridwidth","zerolinecolor","zerolinewidth","xaxis","font","autosize","responsive","showlegend","legend","orientation","y","margin","pad","t","r","l","style","padding","height","onRelayout","Moment","format","onDoubleClick","options","enableTooltip","deterministic","fontFamily","fontSizes","fontStyle","fontWeight","rotations","rotationAngles","scale","spiral","transitionDuration","getCallback","callback","f","event","isActive","element","target","select","on","transition","attr","WordCloud","setWords","useEffect","q1","q2","q3","callbacks","getWordColor","getWordTooltip","onWordClick","onWordMouseOut","onWordMouseOver","AnimatePresence","exitBeforeEnter","wordCloud","visible","className","motion","div","initial","animate","exit","duration","SunBurst","parent","useRef","branchvalues","insidetextorientation","updatePlotData","current","clientWidth","clientHeight","ref","sunburstcolorway","onClick","points","currentPath","label","setTimeout","MapToolTip","children","position","closeCallback","tooltipRef","left","top","visibility","xmlns","viewBox","CustomMap","selected","locations","palacehills","fill","fillOpacity","northwest","oldtown","safetown","southwest","downtown","wilsonforest","scenicvista","broadview","chapparal","terrapinsprings","peppermill","cheddarford","easton","weston","southton","oakwillow","eastparton","westparton","indicators","mapInfo","setMapInfo","totalMessages","tooltip","setTooltip","loadData","max","ceil","item","colorPalette","stepSize","v","getColor","floor","acc","cur","state","setLocation","page","nativeEvent","backgroundColor","RidgeLine","getKeywordWeights","traces","scalemode","side","y0","hoverinfo","spanmode","meanline","box","showgrid","zeroline","autorange","autotick","MessageTable","sortingOrder","itemPerRow","tableData","updateTableData","setPage","clickHandler","sortBy","search","delayDebounceFn","clearTimeout","reformatTime","date","Date","monthName","Intl","DateTimeFormat","month","day","getDate","hours","getHours","minutes","getMinutes","lastPage","Set","min","account","split","join","placeholder","onChange","disabled","Details","details","MessageMeter","Navigator","tab","htmlFor","transform","Dashboard","props","repository","service","getInstance","sunburst","filtered","bottom","ready","getAll","then","res","setMessages","getKeywords","getCluster","getLocations","getTimeline","getFilteredMessages","setState","newFilters","query","console","log","switchTab","getMessageMeterData","updateClusterHandler","updateLocationHandler","selectedLocation","updateSortedByHandler","rangeUpdateHandler","Component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.557ca7f1.chunk.js","sourcesContent":["//export const ML_API_URL = 'http://194.47.177.87/api';\nexport const ML_API_URL = 'http://localhost/api';\n","import axios from \"axios\"\nimport {ML_API_URL} from '../constants'\n\nexport class MessageRepository {\n    async getRange(start, end) {\n        return axios.get(`${ML_API_URL}/v2/messages?start=${start}&end=${end}`)\n    }\n    \n    async  getAll(){\n        return axios.get(`${ML_API_URL}/v2/messages`)\n    }\n}","const neutral = {\n  base: '#d9d9d9',\n  range: ['#f7f7f7', '#d9d9d9', '#bdbdbd', '#969696', '#737373', '#525252'],\n};\nconst colorSets = [\n  {\n    base: '#8dd3c7',\n    range: ['#edf8fb', '#ccece6', '#99d8c9', '#66c2a4', '#41ae76', '#238b45'],\n  },\n  {\n    base: '#ffffb3',\n    range: ['#ffffd4', '#fee391', '#fec44f', '#fe9929', '#ec7014', '#cc4c02'],\n  },\n  {\n    base: '#bebada',\n    range: ['#f2f0f7', '#dadaeb', '#bcbddc', '#9e9ac8', '#807dba', '#6a51a3'],\n  },\n  {\n    base: '#fb8072',\n    range: ['#fee5d9', '#fcbba1', '#fc9272', '#fb6a4a', '#ef3b2c', '#cb181d'],\n  },\n  {\n    base: '#80b1d3',\n    range: ['#f1eef6', '#d0d1e6', '#a6bddb', '#74a9cf', '#3690c0', '#0570b0'],\n  },\n  {\n    base: '#fdb462',\n    range: ['#feedde', '#fdd0a2', '#fdae6b', '#fd8d3c', '#f16913', '#d94801'],\n  },\n  {\n    base: '#b3de69',\n    range: ['#ffffcc', '#d9f0a3', '#addd8e', '#78c679', '#41ab5d', '#238443'],\n  },\n  {\n    base: '#fccde5',\n    range: ['#feebe2', '#fcc5c0', '#fa9fb5', '#f768a1', '#dd3497', '#ae017e'],\n  },\n];\n\nexport class ColorService {\n  static #blue2red = ['#2dacd1', '#90b900', '#dfb81c', '#e85656'];\n  static #qualitative = colorSets.map((i) => i.base);\n  static #ordinal = colorSets.map((i) => i.range);\n\n  static meterColor(index) {\n    return this.#blue2red[index];\n  }\n\n  static getClusterColors() {\n    return this.#qualitative;\n  }\n\n  static getClusterColorById(id) {\n    if (id) return this.#ordinal[parseInt(id) % this.#ordinal.length];\n\n    return neutral.range;\n  }\n\n  static getClusterBaseColorById(id) {\n    if (id) return this.#qualitative[parseInt(id) % this.#qualitative.length];\n\n    return neutral.base;\n  }\n}\n","import { ColorService } from './color-service';\n\nexport class DataService {\n  static instance = null;\n  messages = {\n    all: [],\n    byCluster: {},\n    byLocation: {},\n  };\n  overall = {\n    location: null,\n    clusters: null,\n    keywords: null,\n    timeline: null,\n  };\n  static meterTips = [\n    'Results will be instantly computed.',\n    'Reasonable computing time.',\n    'You may experience a small delay.',\n    'It takes time to compute, please be patient.',\n  ];\n  static meterColorClass = ['blue', 'green', 'orange', 'red'];\n\n  static getInstance() {\n    if (!this.instance) this.instance = new DataService();\n    return this.instance;\n  }\n\n  setMessages(messages) {\n    this.messages.all = messages;\n    this.messages.byCluster = groupBy('cluster')(messages);\n    this.messages.byLocation = groupBy('location')(messages);\n  }\n\n  async getTimeline(filters) {\n    if (!this.overall.timeline)\n      this.overall.timeline = this.messages.all.map((d) => d.time);\n\n    const result = { main: this.overall.timeline };\n\n    if (\n      filters?.cluster?.id !== undefined &&\n      filters?.location?.name !== undefined\n    ) {\n      result['full'] = this.messages.byCluster[filters.cluster.id]\n        .filter((m) => m.location === filters.location.name)\n        .map((d) => d.time);\n    }\n\n    if (filters?.cluster?.id !== undefined) {\n      result['cluster'] = this.messages.byCluster[filters.cluster.id].map(\n        (d) => d.time\n      );\n    }\n    if (filters?.location?.name !== undefined) {\n      result['location'] = this.messages.byLocation[filters.location.name].map(\n        (d) => d.time\n      );\n    }\n\n    return result;\n  }\n\n  async getKeywords(filters) {\n    let data = this.messages.all;\n\n    if (\n      filters?.cluster?.id !== undefined &&\n      filters?.location?.name !== undefined\n    ) {\n      data = this.messages.byCluster[filters.cluster.id].filter(\n        (m) => m.location === filters.location.name\n      );\n    } else if (filters?.cluster?.id !== undefined) {\n      data = this.messages.byCluster[filters.cluster.id];\n    } else if (filters?.location?.name !== undefined) {\n      data = this.messages.byLocation[filters.location.name];\n    }\n\n    if (filters?.timeRange?.start && filters?.timeRange?.end) {\n      data = data.filter(\n        (d) =>\n          d.time >= filters.timeRange.start && d.time <= filters.timeRange.end\n      );\n    }\n\n    if (\n      this.overall.keywords &&\n      filters?.cluster?.id === undefined &&\n      filters?.location?.name === undefined &&\n      filters?.timeRange?.start === undefined &&\n      filters?.timeRange?.end === undefined\n    )\n      return this.overall.keywords;\n\n    const keywords = data\n      .reduce((a, c) => [...a, ...c.words], [])\n      .reduce((obj, e) => {\n        obj[e.name] = (obj[e.name] || 0) + 1;\n        return obj;\n      }, {});\n\n    const result = Object.keys(keywords).map((k) => ({\n      text: k,\n      value: keywords[k],\n    }));\n\n    if (!this.overall.keywords && this.messages.all.length === data.length)\n      this.overall.keywords = result;\n\n    return result;\n  }\n\n  async getCluster(filters) {\n    const temp = Object.keys(this.messages.byCluster)\n      .sort()\n      .map((c) =>\n        this.messages.byCluster[c].reduce((obj, e) => {\n          e.cluster_keywords.forEach(\n            (w) => (obj[w.name] = (obj[w.name] || 0) + w.count)\n          );\n          return obj;\n        }, {})\n      );\n\n    const ids = [];\n    const labels = [];\n    const parents = [];\n    const values = [];\n\n    for (const key in temp) {\n      ids.push(key);\n      labels.push('');\n      parents.push('');\n      values.push(Object.keys(temp[key]).reduce((a, c) => a + temp[key][c], 0));\n    }\n    for (const key in temp) {\n      for (const word in temp[key]) {\n        ids.push(`${key} - ${word}`);\n        labels.push(word);\n        parents.push(key);\n        values.push(temp[key][word]);\n      }\n    }\n\n    return {\n      ids,\n      labels,\n      parents,\n      values,\n      marker: {\n        line: { width: 1, color: 'rgba(0,0,0,0.5)' },\n        colors: ColorService.getClusterColors().slice(0, temp.length),\n      },\n    };\n  }\n\n  async getLocations(filters) {\n    let data = this.messages.all;\n\n    if (filters?.cluster?.id !== undefined) {\n      data = this.messages.byCluster[filters.cluster.id];\n    }\n\n    if (filters?.timeRange?.start && filters?.timeRange?.end) {\n      data = data.filter(\n        (d) =>\n          d.time >= filters.timeRange.start && d.time <= filters.timeRange.end\n      );\n    }\n\n    if (this.overall.location && this.messages.byLocation === data)\n      return this.overall.location;\n\n    const grouped = data ? groupBy('location')(data) : this.messages.byLocation;\n    const result = Object.keys(grouped).map((k) => ({\n      location: k,\n      value: grouped[k].length,\n    }));\n\n    if (!this.overall.location && this.messages.byLocation === data)\n      this.overall.location = result;\n\n    return result;\n  }\n\n  getFilteredMessages(filters) {\n    let data = this.messages.all;\n\n    if (\n      filters?.cluster?.id !== undefined &&\n      filters?.location?.name !== undefined\n    ) {\n      data = this.messages.byCluster[filters.cluster.id].filter(\n        (m) => m.location === filters.location.name\n      );\n    } else if (filters?.cluster?.id !== undefined) {\n      data = this.messages.byCluster[filters.cluster.id];\n    } else if (filters?.location?.name !== undefined) {\n      data = this.messages.byLocation[filters.location.name];\n    }\n\n    if (filters?.timeRange?.start && filters?.timeRange?.end) {\n      data = data.filter(\n        (d) =>\n          d.time >= filters.timeRange.start && d.time <= filters.timeRange.end\n      );\n    }\n\n    if (filters?.sortedBy) {\n      let filter = filters.sortedBy.replace('ASC', '').replace('DESC', '');\n      let asc = filters.sortedBy.includes('ASC');\n\n      if (asc) {\n        data = data.sort((a, b) => {\n          if (a[filter] < b[filter]) return -1;\n          if (a[filter] > b[filter]) return 1;\n          return 0;\n        });\n      } else {\n        data = data.sort((a, b) => {\n          if (b[filter] < a[filter]) return -1;\n          if (b[filter] > a[filter]) return 1;\n          return 0;\n        });\n      }\n    }\n\n    if (filters?.searchQuery) {\n      data = data.filter((d) =>\n        d.message.toLowerCase().includes(filters.searchQuery.toLowerCase())\n      );\n    }\n\n    return data;\n  }\n\n  static getKeywordWeights(messages) {\n    return messages.reduce((obj, e) => {\n      e.words.forEach((w) => (obj[w.name] = [...(obj[w.name] ?? []), e.time]));\n      return obj;\n    }, {});\n  }\n\n  static getMessageMeterData(length) {\n    const rate = Math.log10(length / 10 + 1) / DataService.meterTips.length;\n    const percent = rate <= 1 ? rate : 1;\n    const index = Math.round(percent * (DataService.meterTips.length - 1));\n\n    return {\n      tip: this.meterTips[index],\n      colorClass: this.meterColorClass[index],\n      messages: length,\n      percent,\n    };\n  }\n}\n\nconst groupBy = (key) => (array) =>\n  array.reduce((objectsByKeyValue, obj) => {\n    const value = obj[key];\n    objectsByKeyValue[value] = (objectsByKeyValue[value] || []).concat(obj);\n    return objectsByKeyValue;\n  }, {});\n","import { useState, useLayoutEffect } from 'react';\nimport Plot from 'react-plotly.js';\nimport Moment from 'moment';\nimport { ColorService } from '../../services/color-service';\n\nfunction TimeLine({ update, timeRange, location, data, cluster }) {\n  const [range, setRange] = useState([]);\n\n  function useWindowSize() {\n    const [size, setSize] = useState([0, 0]);\n    useLayoutEffect(() => {\n      function updateSize() {\n        setSize([window.innerWidth, window.innerHeight]);\n      }\n      window.addEventListener('resize', updateSize);\n      updateSize();\n      return () => window.removeEventListener('resize', updateSize);\n    }, []);\n    return size;\n  }\n\n  const updateHandler = (e) => {\n    if (e['xaxis.range[0]'] && e['xaxis.range[1]']) {\n      update(\n        Moment(e['xaxis.range[0]']).format('YYYY-MM-DD HH:MM:ss'),\n        Moment(e['xaxis.range[1]']).format('YYYY-MM-DD HH:MM:ss')\n      );\n    }\n    setRange([e['xaxis.range[0]'], e['xaxis.range[1]']]);\n  };\n\n  const plotData = [\n    {\n      x: data.main,\n      name: 'Messages',\n      autobins: true,\n      histnorm: 'count',\n      marker: {\n        color: '#525252',\n      },\n      opacity: 1,\n      type: 'histogram',\n    },\n  ];\n\n  const getSelectedClusterName = () => {\n    return !cluster.name || cluster.name === ''\n      ? 'Selected cluster'\n      : cluster.name;\n  };\n\n  if (data?.cluster) {\n    plotData.push({\n      x: data.cluster,\n      name: getSelectedClusterName(),\n      histnorm: 'count',\n      marker: {\n        color: ColorService.getClusterBaseColorById(cluster.id),\n      },\n      opacity: 1,\n      type: 'histogram',\n    });\n  }\n\n  if (data?.location) {\n    plotData.push({\n      x: data.location,\n      name: location.name,\n      histnorm: 'count',\n      marker: {\n        color: '#FFF',\n      },\n      opacity: 1,\n      type: 'histogram',\n    });\n  }\n\n  if (data?.full) {\n    plotData.push({\n      x: data.full,\n      name: `${location.name} & ${getSelectedClusterName()}`,\n      histnorm: 'count',\n      marker: {\n        color: ColorService.getClusterColorById(cluster.id)[5],\n      },\n      opacity: 1,\n      type: 'histogram',\n    });\n  }\n\n  const [width] = useWindowSize();\n\n  return (\n    <Plot\n      data={plotData}\n      // data={[{}]}\n      layout={{\n        bargap: 0.02,\n        bargroupgap: 0.2,\n        barmode: 'group',\n        title: {\n          text: 'Message Distribution',\n        },\n        paper_bgcolor: 'transparent',\n        plot_bgcolor: 'transparent',\n        yaxis: {\n          gridcolor: 'rgba(255,255,255,0.25)',\n          gridwidth: 1,\n          zerolinecolor: 'rgba(255,255,255,0.5)',\n          zerolinewidth: 1,\n        },\n        xaxis: {\n          gridcolor: 'rgba(255,255,255,0.25)',\n          gridwidth: 1,\n          zerolinecolor: 'rgba(255,255,255,0.5)',\n          zerolinewidth: 1,\n          range,\n        },\n        font: { color: 'white' },\n        autosize: true,\n        responsive: true,\n        showlegend: true,\n        legend: {\n          orientation: 'h',\n          y: 100,\n        },\n        margin: { pad: 5, t: 25, b: 45, r: 25, l: 50 },\n      }}\n      style={{\n        margin: 0,\n        padding: 0,\n        width: width,\n        height: '20vh',\n      }}\n      onRelayout={updateHandler}\n      onDoubleClick={() => update(undefined, undefined)}\n    />\n  );\n}\n\nexport default TimeLine;\n","import { useEffect, useState } from 'react';\nimport ReactWordCloud from 'react-wordcloud';\nimport 'd3-transition';\nimport { select } from 'd3-selection';\nimport 'tippy.js/dist/tippy.css';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nconst options = {\n  enableTooltip: true,\n  deterministic: false,\n  fontFamily: 'impact',\n  fontSizes: [8, 80],\n  fontStyle: 'normal',\n  fontWeight: 'normal',\n  padding: 0,\n  rotations: 3,\n  rotationAngles: [-45, 45],\n  scale: 'sqrt',\n  spiral: 'archimedean',\n  transitionDuration: 500,\n};\n\nfunction getCallback(callback, f) {\n  return function (word, event) {\n    const isActive = callback !== 'onWordMouseOut';\n    const element = event.target;\n    const text = select(element);\n    text\n      .on('click', () => {\n        if (isActive) {\n          f(word.text);\n        }\n      })\n      .transition()\n      .attr('background', 'white');\n  };\n}\n\nfunction WordCloud({ layout, data, update }) {\n  const [words, setWords] = useState([]);\n\n  useEffect(() => {\n    setWords(data.sort((a, b) => b.value - a.value));\n  }, [data]);\n\n  const q1 = words[3]?.value ?? 0;\n  const q2 = words[8]?.value ?? 0;\n  const q3 = words[12]?.value ?? 0;\n\n  const callbacks = {\n    getWordColor: (word) => {\n      if (word.value > q1) return '#ffff';\n      if (word.value > q2) return '#fffb';\n      if (word.value > q3) return '#fff9';\n      return '#fff6';\n    },\n    getWordTooltip: (word) =>\n      `The word \"${word.text}\" appears ${word.value} times.`,\n    onWordClick: getCallback('onWordClick', update),\n    onWordMouseOut: getCallback('onWordMouseOut', update),\n    onWordMouseOver: getCallback('onWordMouseOver', update),\n  };\n\n  return (\n    <AnimatePresence exitBeforeEnter>\n      {layout.wordCloud.visible ? (\n        <div className=\"word-clouds\" key=\"cloud\">\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.5 }}\n          >\n            <ReactWordCloud\n              callbacks={callbacks}\n              options={options}\n              words={words}\n            />\n          </motion.div>\n        </div>\n      ) : null}\n    </AnimatePresence>\n  );\n}\n\nexport default WordCloud;\n","import { useState, useEffect, useLayoutEffect, useRef } from 'react';\nimport Plot from 'react-plotly.js';\nimport { ColorService } from '../../services/color-service';\n\nfunction SunBurst({ filters, data, update }) {\n  const parent = useRef(null);\n  function useWindowSize() {\n    const [size, setSize] = useState([0, 0]);\n    useLayoutEffect(() => {\n      function updateSize() {\n        setSize([\n          parent?.current?.clientWidth ?? 0,\n          parent?.current?.clientHeight ?? 0,\n        ]);\n      }\n      window.addEventListener('resize', updateSize);\n      updateSize();\n      return () => window.removeEventListener('resize', updateSize);\n    }, []);\n    return size;\n  }\n\n  const [plotData, updatePlotData] = useState([\n    {\n      type: 'sunburst',\n      ...data,\n      branchvalues: 'total',\n      insidetextorientation: 'radial',\n    },\n  ]);\n\n  useEffect(() => {\n    updatePlotData([\n      {\n        type: 'sunburst',\n        ...data,\n        branchvalues: 'total',\n        insidetextorientation: 'radial',\n      },\n    ]);\n  }, [data]);\n\n  const clickHandler = (e) => {\n    const { currentPath, label, id } = e.points[0];\n\n    setTimeout(() => {\n      if (currentPath === undefined || id === filters.cluster.id) {\n        // Unset the filter\n        update(undefined, undefined);\n      } else {\n        if (currentPath === '/') {\n          // Set new filter\n          update(label, id);\n        }\n      }\n    }, 1000);\n  };\n\n  const [width, height] = useWindowSize();\n\n  return (\n    <div style={{ width: '100%', height: '100%' }} ref={parent}>\n      <Plot\n        data={plotData}\n        layout={{\n          sunburstcolorway: ColorService.getClusterColors(),\n          paper_bgcolor: 'transparent',\n          margin: { pad: 5, t: 5, b: 15, r: 0, l: 0 },\n          font: {\n            size: 14,\n          },\n          width,\n          height,\n        }}\n        onClick={clickHandler}\n      />\n    </div>\n  );\n}\n\nexport default SunBurst;\n","import React, { useRef } from 'react';\n\nfunction MapToolTip({ children, visible, title, position, closeCallback }) {\n  const tooltipRef = useRef();\n  return (\n    <div\n      ref={tooltipRef}\n      className=\"overlay\"\n      style={{\n        left: position.left - (tooltipRef?.current?.clientWidth ?? 0) / 2,\n        top: position.top - (tooltipRef?.current?.clientHeight ?? 0) - 50,\n        visibility: visible ? 'visible' : 'hidden',\n      }}\n    >\n      <button className=\"close\" onClick={() => closeCallback()}>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          x=\"0px\"\n          y=\"0px\"\n          viewBox=\"0 0 122.881 122.88\"\n        >\n          <g>\n            <path d=\"M61.44,0c16.966,0,32.326,6.877,43.445,17.996c11.119,11.118,17.996,26.479,17.996,43.444 c0,16.967-6.877,32.326-17.996,43.444C93.766,116.003,78.406,122.88,61.44,122.88c-16.966,0-32.326-6.877-43.444-17.996 C6.877,93.766,0,78.406,0,61.439c0-16.965,6.877-32.326,17.996-43.444C29.114,6.877,44.474,0,61.44,0L61.44,0z M80.16,37.369 c1.301-1.302,3.412-1.302,4.713,0c1.301,1.301,1.301,3.411,0,4.713L65.512,61.444l19.361,19.362c1.301,1.301,1.301,3.411,0,4.713 c-1.301,1.301-3.412,1.301-4.713,0L60.798,66.157L41.436,85.52c-1.301,1.301-3.412,1.301-4.713,0c-1.301-1.302-1.301-3.412,0-4.713 l19.363-19.362L36.723,42.082c-1.301-1.302-1.301-3.412,0-4.713c1.301-1.302,3.412-1.302,4.713,0l19.363,19.362L80.16,37.369 L80.16,37.369z M100.172,22.708C90.26,12.796,76.566,6.666,61.44,6.666c-15.126,0-28.819,6.13-38.731,16.042 C12.797,32.62,6.666,46.314,6.666,61.439c0,15.126,6.131,28.82,16.042,38.732c9.912,9.911,23.605,16.042,38.731,16.042 c15.126,0,28.82-6.131,38.732-16.042c9.912-9.912,16.043-23.606,16.043-38.732C116.215,46.314,110.084,32.62,100.172,22.708 L100.172,22.708z\" />\n          </g>\n        </svg>\n      </button>\n\n      <div className=\"overlay_inner\">\n        <h1 className=\"overlay_title\">{title}</h1>\n        <div className=\"overlay_container\">{children}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default MapToolTip;\n","import React, { useEffect, useState } from 'react';\nimport MapToolTip from './MapToolTip';\nimport { ColorService } from '../../services/color-service';\nimport { motion } from 'framer-motion';\n\nfunction CustomMap({ selected, update, layout, data, cluster }) {\n  const [mapInfo, setMapInfo] = useState({\n    locations: {\n      palacehills: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      northwest: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      oldtown: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      safetown: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      southwest: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      downtown: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      wilsonforest: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      scenicvista: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      broadview: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      chapparal: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      terrapinsprings: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      peppermill: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      cheddarford: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      easton: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      weston: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      southton: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      oakwillow: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      eastparton: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n      westparton: { style: { fill: '#fff', fillOpacity: 0.1 }, text: '' },\n    },\n    legend: {\n      indicators: [],\n    },\n  });\n\n  const [tooltip, setTooltip] = useState({\n    title: '',\n    id: '',\n    position: { left: 0, top: 0 },\n    visible: false,\n    totalMessages: 0,\n  });\n\n  useEffect(() => {\n    const loadData = async () => {\n      const max =\n        Math.ceil(Math.max(...data.map((item) => item.value)) / 100) * 100;\n      const colorPalette = ColorService.getClusterColorById(cluster.id);\n      const stepSize = max / colorPalette.length;\n      const indicators = ColorService.getClusterColorById(cluster.id).map(\n        (v, i) => ({\n          start: Math.round(i * stepSize),\n          end: Math.round((i + 1) * stepSize),\n          color: v,\n        })\n      );\n\n      // console.log(cluster);\n      const getColor = (value) => {\n        return colorPalette[Math.floor((value ?? 0) / stepSize)];\n      };\n\n      setMapInfo({\n        locations: data.reduce(\n          (acc, cur) => ({\n            ...acc,\n            ...{\n              [cur.location.toLowerCase().replace(' ', '')]: {\n                style: {\n                  fill: getColor(cur.value),\n                  fillOpacity: 1,\n                },\n                text: cur.value,\n              },\n            },\n          }),\n          {}\n        ),\n        legend: {\n          indicators,\n        },\n      });\n    };\n\n    loadData();\n  }, [data, cluster.id]);\n\n  useEffect(() => {\n    setTooltip((state) => ({\n      ...state,\n      totalMessages:\n        selected.id !== undefined ? mapInfo.locations[selected.id].text : 0,\n    }));\n  }, [mapInfo, selected.id]);\n\n  const setLocation = (e, title, id, totalMessages) => {\n    if (layout.page === 'Overview')\n      setTooltip({\n        position: {\n          left: e.nativeEvent.x,\n          top: e.nativeEvent.y,\n        },\n        totalMessages,\n      });\n    update(title, id);\n  };\n\n  return (\n    <motion.div\n      className=\"visualization\"\n      key=\"map\"\n      animate={layout.map}\n      transition={{ duration: 0.75 }}\n    >\n      <div className=\"map\">\n        <MapToolTip\n          title={selected.name}\n          position={tooltip.position}\n          visible={\n            layout.page === 'Overview' && selected.id !== undefined\n              ? true\n              : false\n          }\n          closeCallback={() => update(undefined, undefined)}\n        >\n          Number of messages: <strong>{tooltip.totalMessages ?? 0}</strong>\n        </MapToolTip>\n        <svg\n          className=\"canvas\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"35 0 450 385\"\n        >\n          <path\n            className={selected?.id === 'palacehills' ? 'active' : ''}\n            d=\"M108.64936786328326,140.71532889866253L97.23948212165851,140.59113920416652L98.00014117109822,163.73698560142572L83.54761923168553,168.9063777811061L68.8467188271461,205.34048270738475L51.460226268478436,203.66392468248932L53.8042980330938,188.9629917950735L64.15857529794448,186.2929168375045L67.96187054514303,166.4691569348135L59.39281349838711,150.60393182399335L39.77091475354973,148.92737140820992L39.77091475354973,142.03484437329308L53.75772707085707,140.9947557095059L49.58186412596842,132.00652541361723L43.946777698467486,107.57218664374511L48.324448146275245,95.88281657046764L59.1910059954389,86.27362285527812L69.42109402775532,81.6785952401961L81.34326035369304,74.89471853636587L90.56431087147212,72.65929881963257L103.47999105791678,73.85462744247042L108.68041517143138,73.24920126388639Z\"\n            id=\"map_palacehills\"\n            style={\n              mapInfo.locations.palacehills?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Palace Hills',\n                'palacehills',\n                mapInfo.locations.northwest?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'northwest' ? 'active' : ''}\n            d=\"M108.64936786328326,140.71532889866253L108.68041517143138,73.24920126388639L113.04256196517963,69.60112013908463L120.64915245960583,70.67225890677219L120.52496322707157,78.43413269011086L131.3449501139985,76.29185576034018L135.36557651823387,72.14701510695437L142.07179507659748,70.40835515661246L156.10517835608334,67.6761749928782L161.55398093472468,72.65929881963257L169.70389932161197,71.27768514669236L179.53037234809017,68.73179009131115L181.0672141010582,71.71235013054604L183.14738374648732,76.13661829476422L183.6441406767117,121.48144418276871L182.09177526968415,121.23306464099852L171.64435608038912,122.73886558167408L167.12697274592938,121.5590627891574L155.6394687339489,118.74926911067104L143.9501572190784,118.9200300599598L139.18439541946282,125.93675186831439L138.43926002411172,132.36357087957512L135.39662382635288,136.9741141440427L133.42511975942762,140.20304640587835L128.41097949474351,143.3233123737823L124.39035309050814,143.27674124213985L108.77355709587573,142.34531859490403Z\"\n            id=\"map_northwest\"\n            style={\n              mapInfo.locations.northwest?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Northwest',\n                'northwest',\n                mapInfo.locations.northwest?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'oldtown' ? 'active' : ''}\n            d=\"M179.53037234809017,68.73179009131115L179.6079906184459,53.7513657276574L188.03733477857895,47.15376656580969L199.40064955802518,46.998528916348164L212.28528243635083,38.289695127056746L233.13354985270416,30L234.20468198356684,49.51337871187377L239.80872110289056,52.46289356434153L252.64678301903768,47.37109927333768L260.39308640005765,58.06697078459132L268.4188155544107,72.24015760095125L276.4445447087055,71.16901889957671L275.1095104586857,60.73705698261625L269.48994768521516,54.06184093738602L272.7033440777741,46.299959481087285L271.36830982772517,36.95465079779183L294.34331785174436,35.34017848141616L294.88664574417635,46.03605546680029L300.22678274437203,52.18346585712186L301.4841987240361,54.9932665425178L291.4714418487274,88.1364716619168L289.46889047368313,100.16736712300667L281.07059362164,111.99644896428146L273.54162139756954,125.43999285542742L251.1875595364254,125.43999285542742L240.16576514652115,129.15016153977234L235.85018931498053,129.35196986551475L227.6381763118261,126.63531921660785L214.8311617038562,126.77503268436476L204.01117481687106,122.84753162604557L194.38650929334108,124.12047668833787L183.6441406767117,121.48144418276871L183.14738374648732,76.13661829476422Z\"\n            id=\"map_oldtown\"\n            style={\n              mapInfo.locations.oldtown?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Old Town',\n                'oldtown',\n                mapInfo.locations.oldtown?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'safetown' ? 'active' : ''}\n            d=\"M300.22678274437203,52.18346585712186L303.533321061288,44.76310665027313L307.088237843418,45.71005638623569L309.33916768355994,56.173072257351805L333.5560680331837,84.1623940502194L328.12278910860186,87.4999983342604L331.05675972785684,91.25674312347303L343.16520990265417,89.17656218927675L359.29428648168687,73.68386621406898L362.77158499337384,77.56480294288991L352.355213112256,92.26578605634711L360.76903361835866,100.8193638884112L354.21805160070653,105.08838995501696L364.3860450167267,119.52545523596922L364.64994713588385,134.50584359058834L363.39253115619067,139.5820979189825L368.4066714209039,147.93385408552652L372.08577743556816,156.62712967707665L385.79316397960065,160.2907237374542L377.44143808979425,166.98143903698139L377.42591443570564,170.53636615527788L364.7586127144168,174.15338772169778L253.14353994926205,173.12882370820205L253.29877648994443,152.29601586350145L264.46028376647155,140.59113920416652L273.54162139756954,125.43999285542742L281.07059362164,111.99644896428146L289.46889047368313,100.16736712300667L291.4714418487274,88.1364716619168L301.4841987240361,54.9932665425178Z\"\n            id=\"map_safetown\"\n            style={\n              mapInfo.locations.safetown?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Safe Town',\n                'safetown',\n                mapInfo.locations.safetown?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'southwest' ? 'active' : ''}\n            d=\"M98.00014117109822,163.73698560142572L97.23948212165851,140.59113920416652L108.64936786328326,140.71532889866253L108.77355709587573,142.34531859490403L124.39035309050814,143.27674124213985L124.15749827949912,172.13530706243233L129.34239873895422,172.21292555131822L129.59077720408095,188.91642072174142L166.81649966456462,188.69908904548458L166.9562125512166,191.10526111108905L175.77364806309924,200.5902348040134L194.09155986597762,221.45406503292588L203.04870826451224,235.48746957302671L212.93727590731578,247.37860371320832L214.2723101573356,252.33065493089504L207.2090475553705,252.48589163954392L180.7101700574567,248.0926926291585L153.31092062342213,232.55349482455063L138.43926002411172,229.71266197535547L104.65978876725421,204.87477215126805L97.9535702088906,187.4416700385398L102.36228796487558,163.876698913252Z\"\n            id=\"map_southwest\"\n            style={\n              mapInfo.locations.southwest?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Southwest',\n                'southwest',\n                mapInfo.locations.southwest?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'downtown' ? 'active' : ''}\n            d=\"M166.81649966456462,188.69908904548458L129.59077720408095,188.91642072174142L129.34239873895422,172.21292555131822L124.15749827949912,172.13530706243233L124.39035309050814,143.27674124213985L128.41097949474351,143.3233123737823L133.42511975942762,140.20304640587835L138.43926002411172,132.36357087957512L139.18439541946282,125.93675186831439L143.9501572190784,118.9200300599598L155.6394687339489,118.74926911067104L167.12697274592938,121.5590627891574Z\"\n            id=\"map_downtown\"\n            style={\n              mapInfo.locations.downtown?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Downtown',\n                'downtown',\n                mapInfo.locations.downtown?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'wilsonforest' ? 'active' : ''}\n            d=\"M460.2290852465085,298.8240334627437L432.87640677471063,298.8240334627437L432.2554606118938,168.09914541682087L452.59144744390505,154.99714067107107L460.21356159239076,159.80948894616972Z\"\n            id=\"map_wilsonforest\"\n            style={\n              mapInfo.locations.wilsonforest?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Wilson Forest',\n                'wilsonforest',\n                mapInfo.locations.wilsonforest?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'scenicvista' ? 'active' : ''}\n            d=\"M460.2290852465085,298.8240334627437L460.19803793836036,308.0761350157758L408.861313928006,323.5221752754823L318.3739343524794,363.4490178679263L313.949692942464,358.93163439415116L314.19807140759076,346.7300415721575L329.4888706667698,346.8231835044106L342.34245623697643,336.3757631640972L349.20391133602243,332.8674168198181L356.12746105136466,332.8674168198181L409.00102681462886,303.2017057818024L414.2790691984992,303.6674155913727L414.1083090037573,299.15003034449376L417.53903655326576,293.2199916480311L432.8453594665625,292.89399474496884L432.87640677471063,298.8240334627437Z\"\n            id=\"map_scenicvista\"\n            style={\n              mapInfo.locations.scenicvista?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Scenic Vista',\n                'scenicvista',\n                mapInfo.locations.scenicvista?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'broadview' ? 'active' : ''}\n            d=\"M318.3739343524794,363.4490178679263L315.1605379599496,369.06858074472785L297.7895690552832,370L274.5351352581056,358.23306993415014L255.42551709761028,353.60702080242106L249.41786297239014,346.09357170071905L242.57193152740365,324.03445597428595L220.51281909356476,302.6428540073988L204.97364136925898,293.79436714095107L208.97874411937664,283.766080950728L209.8170214391721,269.9034479317178L207.81447006412782,262.04847214272354L213.32536725900718,259.7820165049104L253.88867534461315,260.60477095794806L254.05943553938414,275.5230150450545L335.8225215274433,275.6316807031713L334.93767324544024,312.90399304723445L332.00370262618526,316.30367430109277L323.7140713526169,319.05136181815567L318.09450857920456,320.9142007777782L314.8811121866456,324.3294054666505L314.19807140759076,346.7300415721575L313.949692942464,358.93163439415116Z\"\n            id=\"map_broadview\"\n            style={\n              mapInfo.locations.broadview?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Broadview',\n                'broadview',\n                mapInfo.locations.broadview?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'chapparal' ? 'active' : ''}\n            d=\"M335.8225215274433,275.6316807031713L334.76691305066925,254.44187413455782L367.63048871740466,254.79891855148438L368.4842896912887,325.94386583446834L356.12746105136466,332.8674168198181L349.20391133602243,332.8674168198181L342.34245623697643,336.3757631640972L329.4888706667698,346.8231835044106L314.19807140759076,346.7300415721575L314.8811121866456,324.3294054666505L318.09450857920456,320.9142007777782L332.00370262618526,316.30367430109277L334.93767324544024,312.90399304723445Z\"\n            id=\"map_chapparal\"\n            style={\n              mapInfo.locations.chapparal?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Chapparal',\n                'chapparal',\n                mapInfo.locations.chapparal?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'terrapinsprings' ? 'active' : ''}\n            d=\"M368.4842896912887,325.94386583446834L367.63048871740466,254.79891855148438L432.659075617732,254.56606349719672L432.8453594665625,292.89399474496884L417.53903655326576,293.2199916480311L414.1083090037573,299.15003034449376L414.2790691984992,303.6674155913727L409.00102681462886,303.2017057818024Z\"\n            id=\"map_terrapinsprings\"\n            style={\n              mapInfo.locations.terrapinsprings?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Terrapin Springs',\n                'terrapinsprings',\n                mapInfo.locations.terrapinsprings?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'peppermill' ? 'active' : ''}\n            d=\"M432.659075617732,254.56606349719672L367.63048871740466,254.79891855148438L366.85430601390544,185.57882699328582L357.7108737665112,174.09129293378155L364.7586127144168,174.15338772169778L377.42591443570564,170.53636615527788L381.07397314228,174.3707194785553L403.80060270111426,197.93568427903753L419.5105406202201,201.5992744344686L426.1857118704356,195.7623679369784L426.1857118704356,183.88674448535457L432.3020315740723,176.21803936171807Z\"\n            id=\"map_peppermill\"\n            style={\n              mapInfo.locations.peppermill?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Pepper Mill',\n                'peppermill',\n                mapInfo.locations.peppermill?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'cheddarford' ? 'active' : ''}\n            d=\"M357.7108737665112,174.09129293378155L366.85430601390544,185.57882699328582L367.63048871740466,254.79891855148438L334.76691305066925,254.44187413455782L335.8225215274433,275.6316807031713L291.16096876730444,275.58510970685563L291.33172896207543,265.5723447937156L293.3342803371197,263.3990312866476L299.01593772682827,263.2282709366573L302.67952008743305,260.06144254674416L302.0585739246162,211.64309842562176L311.8850469510944,195.80893900260122L312.071330799954,173.6721531127514Z\"\n            id=\"map_cheddarford\"\n            style={\n              mapInfo.locations.cheddarford?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Cheddarford',\n                'cheddarford',\n                mapInfo.locations.cheddarford?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'easton' ? 'active' : ''}\n            d=\"M253.14353994926205,173.12882370820205L204.74078655819176,173.15987110294822L204.55450270936126,127.535694886644L204.01117481687106,122.84753162604557L214.8311617038562,126.77503268436476L227.6381763118261,126.63531921660785L235.85018931498053,129.35196986551475L240.16576514652115,129.15016153977234L251.1875595364254,125.43999285542742L273.54162139756954,125.43999285542742L264.46028376647155,140.59113920416652L253.29877648994443,152.29601586350145Z\"\n            id=\"map_easton\"\n            style={\n              mapInfo.locations.easton?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(e, 'Easton', 'easton', mapInfo.locations.easton.text)\n            }\n          ></path>\n          <path\n            className={selected?.id === 'weston' ? 'active' : ''}\n            d=\"M204.01117481687106,122.84753162604557L204.55450270936126,127.535694886644L204.74078655819176,173.15987110294822L166.89411793492036,172.72520757401333L167.12697274592938,121.5590627891574L171.64435608038912,122.73886558167408L182.09177526968415,121.23306464099852L194.38650929334108,124.12047668833787Z\"\n            id=\"map_weston\"\n            style={\n              mapInfo.locations.weston?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(e, 'Weston', 'weston', mapInfo.locations.weston.text)\n            }\n          ></path>\n          <path\n            className={selected?.id === 'southton' ? 'active' : ''}\n            d=\"M204.74078655819176,173.15987110294822L204.18193501167116,236.85355299877693L203.04870826451224,235.48746957302671L194.09155986597762,221.45406503292588L175.77364806309924,200.5902348040134L166.9562125512166,191.10526111108905L166.89411793492036,172.72520757401333Z\"\n            id=\"map_southton\"\n            style={\n              mapInfo.locations.southton?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Southton',\n                'southton',\n                mapInfo.locations.southton?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'oakwillow' ? 'active' : ''}\n            d=\"M203.82489096806967,251.92703948655245L207.2090475553705,252.48589163954392L214.2723101573356,252.33065493089504L212.93727590731578,247.37860371320832L209.4289300874225,243.1561647253166L257.75406520810793,243.1716883986513L272.1134452231054,233.96614935334884L292.9617126394587,228.42419675185172L296.2372036482848,231.5599795287898L302.32247604383156,231.90150041381577L302.67952008743305,260.06144254674416L299.01593772682827,263.2282709366573L293.3342803371197,263.3990312866476L291.33172896207543,265.5723447937156L291.16096876730444,275.58510970685563L254.05943553938414,275.5230150450545L253.88867534461315,260.60477095794806L213.32536725900718,259.7820165049104L207.81447006412782,262.04847214272354Z\"\n            id=\"map_oakwillow\"\n            style={\n              mapInfo.locations.oakwillow?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'Oak Willow',\n                'oakwillow',\n                mapInfo.locations.oakwillow?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'eastparton' ? 'active' : ''}\n            d=\"M252.61573571088957,243.1716883986513L253.14353994926205,173.12882370820205L312.071330799954,173.6721531127514L311.8850469510944,195.80893900260122L302.0585739246162,211.64309842562176L302.32247604383156,231.90150041381577L296.2372036482848,231.5599795287898L292.9617126394587,228.42419675185172L272.1134452231054,233.96614935334884L257.75406520810793,243.1716883986513Z\"\n            id=\"map_eastparton\"\n            style={\n              mapInfo.locations.eastparton?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'East Parton',\n                'eastparton',\n                mapInfo.locations.eastparton?.text ?? 0\n              )\n            }\n          ></path>\n          <path\n            className={selected?.id === 'westparton' ? 'active' : ''}\n            d=\"M253.14353994926205,173.12882370820205L252.61573571088957,243.1716883986513L209.4289300874225,243.1561647253166L204.18193501167116,236.85355299877693L204.74078655819176,173.15987110294822Z\"\n            id=\"map_westparton\"\n            style={\n              mapInfo.locations.westparton?.style ?? {\n                fill: '#fff',\n                fillOpacity: 1,\n              }\n            }\n            onClick={(e) =>\n              setLocation(\n                e,\n                'West Parton',\n                'westparton',\n                mapInfo.locations.westparton?.text ?? 0\n              )\n            }\n          ></path>\n          <text x=\"77.56376705903696\" y=\"126.89257545416278\">\n            Palace Hills\n          </text>\n          <text x=\"143.11272822708332\" y=\"101.29220314525485\">\n            Northwest\n          </text>\n          <text x=\"236.82593405011573\" y=\"82.90114684732106\">\n            Old Town\n          </text>\n          <text x=\"316.97280723513853\" y=\"129.5833452703226\">\n            Safe Town\n          </text>\n          <text x=\"145.44960400337808\" y=\"203.19155233022568\">\n            Southwest\n          </text>\n          <text x=\"147.96185716283597\" y=\"156.2328992406851\">\n            Downtown\n          </text>\n          <text x=\"446.5800705603479\" y=\"229.30362759038798\">\n            Wilson Forest\n          </text>\n          <text x=\"389.6135004437581\" y=\"324.170113368631\">\n            Scenic Vista\n          </text>\n          <text x=\"274.6894261128843\" y=\"308.8147565394684\">\n            Broadview\n          </text>\n          <text x=\"346.52945356282544\" y=\"301.1654708038661\">\n            Chapparal\n          </text>\n          <text x=\"396.6468383671396\" y=\"282.2218477079319\">\n            Terrapin Springs\n          </text>\n          <text x=\"397.295612054815\" y=\"219.43395104786325\">\n            Pepper Mill\n          </text>\n          <text x=\"333.04203493699674\" y=\"223.39665684251904\">\n            Cheddarford\n          </text>\n          <text x=\"232.46507505178815\" y=\"148.14913041633014\">\n            Easton\n          </text>\n          <text x=\"185.71921066429627\" y=\"147.84354392950075\">\n            Weston\n          </text>\n          <text x=\"189.24099229052243\" y=\"194.7932120764267\">\n            Southton\n          </text>\n          <text x=\"264.65490147823687\" y=\"253.11882955732526\">\n            Oak Willow\n          </text>\n          <text x=\"279.18183982746666\" y=\"202.83648795023674\">\n            East Parton\n          </text>\n          <text x=\"228.77195820564594\" y=\"208.00133785803428\">\n            West Parton\n          </text>\n        </svg>\n        <div className=\"legend\">\n          {mapInfo.legend.indicators.map((v, i) => (\n            <div className=\"indicator\" key={i}>\n              <div className=\"range\">\n                {v.start} - {v.end}\n              </div>\n              <div\n                className=\"colorBar\"\n                style={{ backgroundColor: v.color }}\n              ></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\nexport default CustomMap;\n","import { useLayoutEffect, useState, useRef } from 'react';\nimport Plot from 'react-plotly.js';\nimport { DataService } from '../../services/data-service';\n\nfunction RidgeLine({ data }) {\n  const parent = useRef(null);\n  const keywords = DataService.getKeywordWeights(data);\n  const traces = Object.keys(keywords)\n    .map((i) => ({\n      points: false,\n      scalemode: 'width',\n      side: 'positive',\n      type: 'violin',\n      y0: i,\n      x: keywords[i],\n      orientation: 'h',\n      showlegend: false,\n      width: 1.5,\n      hoverinfo: 'skip',\n      spanmode: 'soft',\n      marker: {\n        color: '#333',\n      },\n      meanline: {\n        visible: true,\n      },\n      box: {\n        visible: true,\n      },\n    }))\n    .filter((v) => v.x.length > 3) // remove occurrence less than 3\n    .sort((a, b) => b.x.length - a.x.length) // Sort based on number of values\n    .slice(0, 10); // Show only the first 10\n\n  function useWindowSize() {\n    const [size, setSize] = useState([0, 0]);\n    useLayoutEffect(() => {\n      function updateSize() {\n        setSize([\n          parent?.current?.clientWidth ?? 0,\n          parent?.current?.clientHeight ?? 0,\n        ]);\n      }\n      window.addEventListener('resize', updateSize);\n      updateSize();\n      return () => window.removeEventListener('resize', updateSize);\n    }, []);\n    return size;\n  }\n  const [width, height] = useWindowSize();\n\n  return (\n    <div className=\"ridgeLine\" ref={parent}>\n      <Plot\n        data={traces}\n        layout={{\n          yaxis: {\n            showgrid: true,\n            zeroline: false,\n            gridcolor: '#0002',\n          },\n          xaxis: {\n            showgrid: true,\n            zeroline: false,\n            gridcolor: '#0002',\n            autorange: true,\n            autotick: true,\n          },\n          autosize: true,\n          responsive: true,\n          margin: { l: 100, r: 45, b: 50, t: 5, pad: 10 },\n          paper_bgcolor: 'transparent',\n          plot_bgcolor: 'transparent',\n          height,\n          width,\n        }}\n      />\n    </div>\n  );\n}\n\nexport default RidgeLine;\n","import { useState, useEffect } from 'react';\nimport ReactSearchBox from 'react-search-box';\n\nfunction MessageTable({\n  sortingOrder,\n  searchQuery,\n  data,\n  update,\n  itemPerRow = 100,\n}) {\n  const [tableData, updateTableData] = useState(data, 1);\n  const [page, setPage] = useState(0);\n\n  useEffect(() => {\n    updateTableData(data);\n  }, [data]);\n\n  const clickHandler = (sortBy, search) => {\n    const delayDebounceFn = setTimeout(() => {\n      update(sortBy, search);\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  };\n\n  const reformatTime = (date) => {\n    let d = new Date(date);\n    let monthName = new Intl.DateTimeFormat('en-US', { month: 'long' }).format(\n      d\n    );\n    let day = d.getDate();\n    let hours = d.getHours();\n    hours = hours < 10 ? '0' + hours : hours;\n    let minutes = d.getMinutes();\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n    return `${day} ${monthName} ${hours}:${minutes}`;\n  };\n\n  const lastPage = Math.ceil(tableData.length / itemPerRow) - 1;\n\n  return (\n    <div className=\"messageTable\">\n      <div className=\"table-fill\">\n        <table>\n          <thead>\n            <tr>\n              <th\n                width=\"7%\"\n                className={\n                  'span-sort' +\n                  (sortingOrder === undefined ||\n                  sortingOrder === 'timeASC' ||\n                  sortingOrder === 'timeDESC'\n                    ? ' sorted'\n                    : '')\n                }\n                onClick={() =>\n                  sortingOrder !== 'timeASC'\n                    ? clickHandler('timeASC', searchQuery)\n                    : clickHandler('timeDESC', searchQuery)\n                }\n              >\n                Time\n                {sortingOrder !== 'timeDESC' ? <span>▼</span> : <span>▲</span>}\n              </th>\n              <th\n                width=\"8%\"\n                className={\n                  'span-sort' +\n                  (sortingOrder === 'locationASC' ||\n                  sortingOrder === 'locationDESC'\n                    ? ' sorted'\n                    : '')\n                }\n                onClick={() =>\n                  sortingOrder !== 'locationASC'\n                    ? clickHandler('locationASC', searchQuery)\n                    : clickHandler('locationDESC', searchQuery)\n                }\n              >\n                Location\n                {new Set(tableData.map((item) => item.location)).size > 1 ? (\n                  sortingOrder !== 'locationDESC' ? (\n                    <span>▼</span>\n                  ) : (\n                    <span>▲</span>\n                  )\n                ) : (\n                  ''\n                )}\n              </th>\n              <th\n                width=\"10%\"\n                className={\n                  'span-sort' +\n                  (sortingOrder === 'accountASC' ||\n                  sortingOrder === 'accountDESC'\n                    ? ' sorted'\n                    : '')\n                }\n                onClick={() =>\n                  sortingOrder !== 'accountASC'\n                    ? clickHandler('accountASC', searchQuery)\n                    : clickHandler('accountDESC', searchQuery)\n                }\n              >\n                User{' '}\n                {sortingOrder !== 'accountDESC' ? (\n                  <span>▼</span>\n                ) : (\n                  <span>▲</span>\n                )}\n              </th>\n              <th width=\"70%\">Messages</th>\n              <th width=\"5%\">Tags</th>\n            </tr>\n          </thead>\n          {tableData.length ? (\n            <tbody>\n              {tableData\n                .slice(\n                  page * itemPerRow,\n                  Math.min((page + 1) * itemPerRow, tableData.length)\n                )\n                .map((d) => (\n                  <tr key={d.id}>\n                    <td>{reformatTime(d.time)}</td>\n                    <td>{d.location}</td>\n                    <td>{d.account}</td>\n                    <td>\n                      {d.message.split(' ').map((m) => (\n                        <span>\n                          {m\n                            .toLowerCase()\n                            .replace('?', '')\n                            .replace('!', '')\n                            .replace('.', '')\n                            .replace(',', '') === searchQuery ? (\n                            <span className=\"search\">{m} </span>\n                          ) : (\n                            m + ' '\n                          )}\n                        </span>\n                      ))}\n                    </td>\n                    <td>{d.words.map((w) => w.name).join(', ')}</td>\n                  </tr>\n                ))}\n            </tbody>\n          ) : (\n            <p className=\"no-data\">No messages found.</p>\n          )}\n        </table>\n      </div>\n      <div className=\"table-footer\">\n        <ReactSearchBox\n          placeholder={\n            searchQuery === undefined || searchQuery === ''\n              ? 'Search...'\n              : searchQuery\n          }\n          data={data}\n          onChange={(search) => {\n            clickHandler(sortingOrder, search.toLowerCase());\n          }}\n        />\n        <div className=\"pagination\">\n          <button onClick={() => setPage(0)} disabled={!page} title=\"first\">\n            {'<<<'}\n          </button>\n          <button\n            onClick={() => setPage((page) => page - 1)}\n            disabled={!page}\n            title=\"previous\"\n          >\n            {'<'}\n          </button>\n\n          <div className=\"page-number\">\n            {page + 1} / {lastPage + 1}\n          </div>\n          <button\n            onClick={() => setPage((page) => page + 1)}\n            title=\"next\"\n            disabled={page === lastPage}\n          >\n            {'>'}\n          </button>\n          <button\n            onClick={() => setPage((page) => lastPage)}\n            title=\"last\"\n            disabled={page === lastPage}\n          >\n            {'>>>'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MessageTable;\n","import RidgeLine from './plots/Ridgeline';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport MessageTable from './MessageTable';\n\nfunction Details({\n  layout,\n  data,\n  location,\n  update,\n  sortingOrder,\n  searchQuery,\n}) {\n  return (\n    <AnimatePresence exitBeforeEnter>\n      {layout.details.visible ? (\n        <motion.div\n          className=\"details\"\n          key=\"details\"\n          initial={{ left: '120vw' }}\n          animate={{ left: '40vw' }}\n          exit={{ left: '120vw' }}\n          transition={{ duration: 0.7 }}\n        >\n          <MessageTable\n            sortingOrder={sortingOrder}\n            searchQuery={searchQuery}\n            data={data}\n            update={update}\n            itemPerRow=\"500\"\n          />\n          <RidgeLine data={data} />\n        </motion.div>\n      ) : null}\n    </AnimatePresence>\n  );\n}\n\nexport default Details;\n","function MessageMeter({ data, opacity = 1 }) {\n  return (\n    <div\n      className=\"messageMeter\"\n      style={{ opacity, transition: '0.25s ease-out' }}\n    >\n      <div className={`meter ${data.colorClass}`}>\n        <progress max=\"100\" value={data.percent * 100}></progress>\n        <span>\n          {data.messages < 1000 ? data.messages : `${data.messages / 1000} K`}\n        </span>\n      </div>\n      <span className=\"tips\">{data.tip}</span>\n    </div>\n  );\n}\n\nexport default MessageMeter;\n","function Navigator({ tab, update }) {\n  return (\n    <div className=\"navigator\">\n      <div className=\"tabs\">\n        <input type=\"radio\" id=\"radio-1\" onClick={() => update('Overview')} />\n        <label className=\"tab\" htmlFor=\"radio-1\">\n          Overview\n        </label>\n        <input type=\"radio\" id=\"radio-2\" onClick={() => update('Messages')} />\n        <label className=\"tab\" htmlFor=\"radio-2\">\n          Messages\n        </label>\n        <span\n          style={{\n            transform: `translateX(${tab === 'Overview' ? '0' : '100%'})`,\n          }}\n          className=\"glider\"\n          onClick={() => update(tab === 'Overview' ? 'Messages' : 'Overview')}\n        >\n          {tab}\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport default Navigator;\n","import { Component } from 'react';\nimport { MessageRepository } from '../repositories/messages';\nimport { DataService } from '../services/data-service';\nimport TimeLine from './plots/TimeLine';\nimport WordCloud from './plots/WordCloud';\nimport SunBurst from './plots/SunBurst';\nimport CustomMap from './maps/CustomMap';\nimport Details from './Details';\nimport MessageMeter from './MessageMeter';\nimport Navigator from './Navigator';\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.repository = new MessageRepository();\n    this.service = DataService.getInstance();\n\n    this.state = {\n      messages: [],\n      filters: {\n        timeRange: {\n          start: undefined,\n          end: undefined,\n        },\n        location: {\n          name: undefined,\n          id: undefined,\n        },\n        cluster: {\n          name: undefined,\n          id: undefined,\n        },\n        sortedBy: undefined,\n        searchQuery: undefined,\n      },\n      data: {\n        wordCloud: [],\n        sunburst: [],\n        map: [],\n        timeline: [],\n        filtered: [],\n      },\n      layout: {\n        page: 'Overview',\n        map: {\n          bottom: 0,\n          left: '40vw',\n          width: '60%',\n        },\n        wordCloud: {\n          visible: true,\n        },\n        details: {\n          visible: false,\n        },\n      },\n      ready: false,\n    };\n  }\n\n  componentDidMount() {\n    this.repository.getAll().then(async (res) => {\n      this.service.setMessages(res.data);\n      this.setState({\n        messages: res.data,\n        data: {\n          wordCloud: await this.service.getKeywords({}),\n          sunburst: await this.service.getCluster({}),\n          map: await this.service.getLocations({}),\n          timeline: await this.service.getTimeline({}),\n          filtered: await this.service.getFilteredMessages({}),\n        },\n        ready: true,\n      });\n    });\n  }\n\n  async rangeUpdateHandler(start, end) {\n    const newFilters = {\n      ...this.state.filters,\n      timeRange: { start, end },\n    };\n    this.setState({\n      filters: newFilters,\n      data: {\n        ...this.state.data,\n        map: await this.service.getLocations(newFilters),\n        wordCloud: await this.service.getKeywords(newFilters),\n        timeline: await this.service.getTimeline(newFilters),\n        filtered: await this.service.getFilteredMessages(newFilters),\n      },\n      ready: true,\n    });\n  }\n\n  async updateClusterHandler(name, id) {\n    const newFilters = {\n      ...this.state.filters,\n      cluster: { name, id },\n    };\n    this.setState({\n      filters: newFilters,\n      data: {\n        ...this.state.data,\n        map: await this.service.getLocations(newFilters),\n        wordCloud: await this.service.getKeywords(newFilters),\n        timeline: await this.service.getTimeline(newFilters),\n        filtered: await this.service.getFilteredMessages(newFilters),\n      },\n      ready: true,\n    });\n  }\n\n  async updateSortedByHandler(sortedBy, searchQuery) {\n    const newFilters = {\n      ...this.state.filters,\n      sortedBy: sortedBy,\n      searchQuery: searchQuery,\n    };\n    this.setState({\n      filters: newFilters,\n      data: {\n        ...this.state.data,\n        wordCloud: await this.service.getKeywords(newFilters),\n        timeline: await this.service.getTimeline(newFilters),\n        filtered: await this.service.getFilteredMessages(newFilters),\n      },\n      ready: true,\n    });\n  }\n\n  async updateLocationHandler(name, id) {\n    const newFilters = {\n      ...this.state.filters,\n      location: { name, id },\n      searchQuery: undefined,\n    };\n    this.setState({\n      filters: newFilters,\n      data: {\n        ...this.state.data,\n        wordCloud: await this.service.getKeywords(newFilters),\n        timeline: await this.service.getTimeline(newFilters),\n        filtered: await this.service.getFilteredMessages(newFilters),\n      },\n      ready: true,\n    });\n  }\n\n  hasNoFiler(filters) {\n    return (\n      filters.cluster.id === undefined &&\n      filters.location.id === undefined &&\n      filters.searchQuery === undefined &&\n      filters.timeRange.start === undefined &&\n      filters.timeRange.end === undefined\n    );\n  }\n\n  async switchTab(name, query) {\n    const newFilters = {\n      ...this.state.filters,\n      searchQuery: query,\n    };\n\n    this.setState((state) => ({ ...state, ready: false }));\n    setTimeout(async () => {\n      switch (name) {\n        case 'Overview':\n          this.setState({\n            messages: [],\n            data: {\n              ...this.state.data,\n              filtered: await this.service.getFilteredMessages(newFilters),\n            },\n            layout: {\n              ...this.state.layout,\n              page: 'Overview',\n              map: {\n                bottom: 0,\n                left: '40vw',\n                width: '60%',\n              },\n              wordCloud: { visible: true },\n              details: {\n                visible: false,\n              },\n            },\n            ready: true,\n          });\n          break;\n        case 'Messages':\n          this.setState({\n            filters: newFilters,\n            data: {\n              ...this.state.data,\n              filtered: await this.service.getFilteredMessages(newFilters),\n            },\n            layout: {\n              ...this.state.layout,\n              page: 'Messages',\n              map: {\n                bottom: '35vh',\n                left: '0vw',\n                width: '40%',\n              },\n              wordCloud: { visible: false },\n              details: {\n                visible: true,\n              },\n            },\n            ready: true,\n          });\n          break;\n        default:\n          console.log('Invalid tab name');\n      }\n    }, 0);\n  }\n\n  render() {\n    return (\n      <div className=\"dashboard\">\n        {!this.state.ready ? (\n          <div className=\"loading\">\n            <div className=\"container\">\n              <span className=\"loader\">\n                <span className=\"loader-inner\"></span>\n              </span>\n              <h1>Loading ...</h1>\n              <span className=\"message\">Please wait!</span>\n            </div>\n          </div>\n        ) : (\n          ''\n        )}\n        <div className=\"navigation\">\n          <h1>Visual Explorer</h1>\n          <Navigator\n            tab={this.state.layout.page}\n            update={(name) => this.switchTab(name, undefined)}\n          />\n          <MessageMeter\n            data={DataService.getMessageMeterData(\n              this.state.data.filtered.length\n            )}\n            opacity={this.state.layout.page === 'Messages' ? 1 : 0}\n          />\n        </div>\n        <div className=\"main-container\">\n          <div className=\"control\">\n            <WordCloud\n              layout={this.state.layout}\n              data={this.state.data.wordCloud}\n              update={(word) => this.switchTab('Messages', word)}\n            />\n            <div className=\"sunburst\" key=\"sunburst\">\n              <SunBurst\n                data={this.state.data.sunburst}\n                filters={this.state.filters}\n                update={(name, id) => this.updateClusterHandler(name, id)}\n              />\n            </div>\n          </div>\n\n          <CustomMap\n            data={this.state.data.map}\n            selected={this.state.filters.location}\n            layout={this.state.layout}\n            cluster={this.state.filters.cluster}\n            update={(name, id) => this.updateLocationHandler(name, id)}\n          />\n\n          <Details\n            layout={this.state.layout}\n            data={this.state.data.filtered}\n            location={this.state.selectedLocation}\n            update={(sortedBy, searchQuery) =>\n              this.updateSortedByHandler(sortedBy, searchQuery)\n            }\n            sortingOrder={this.state.filters.sortedBy}\n            searchQuery={this.state.filters.searchQuery}\n          />\n        </div>\n        <div className=\"timeline\">\n          <TimeLine\n            data={this.state.data.timeline}\n            update={(start, end) => this.rangeUpdateHandler(start, end)}\n            cluster={this.state.filters.cluster}\n            location={this.state.filters.location}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import { Component } from 'react';\nimport Dashboard from './components/Dashboard';\nimport './styles/app.scss';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <Dashboard />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n      import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n        getCLS(onPerfEntry);\n        getFID(onPerfEntry);\n        getFCP(onPerfEntry);\n        getLCP(onPerfEntry);\n        getTTFB(onPerfEntry);\n      });\n    }\n  };\n  \n  export default reportWebVitals;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}